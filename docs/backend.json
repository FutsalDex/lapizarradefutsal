
{
  "entities": {
    "Exercise": {
      "title": "Exercise",
      "type": "object",
      "description": "Represents a futsal exercise or drill.",
      "properties": {
        "name": {"type": "string"},
        "image": {"type": "string", "format": "uri"},
        "number": {"type": "string"},
        "numberOfPlayers": {"type": "string"},
        "objectives": {"type": "string"},
        "variations": {"type": "string"},
        "visible": {"type": "boolean"},
        "aiHint": {"type": "string"},
        "createdAt": {"type": "string", "format": "date-time"},
        "userId": {"type": "string"},
        "description": {"type": "string"},
        "duration": {"type": "string"},
        "category": {"type": "string"},
        "consejos": {"type": "string"},
        "edad": {
            "type": "object",
            "properties": {
                "infantil": {"type": "boolean"},
                "cadete": {"type": "boolean"},
                "juvenil": {"type": "boolean"},
                "senior": {"type": "boolean"}
            }
        }
      },
      "required": ["name", "description", "category", "visible"]
    },
    "Session": {
      "title": "Session",
      "type": "object",
      "description": "Represents a training session composed of multiple exercises.",
      "properties": {
        "createdAt": {"type": "string", "format": "date-time"},
        "date": {"type": "string", "format": "date-time"},
        "finalExercise": {"type": "string"},
        "initialExercise": {"type": "string"},
        "initialExercises": {"type": "array", "items": {"type": "string"}},
        "mainExercises": {"type": "array", "items": {"type": "string"}},
        "microcycle": {"type": "string"},
        "objectives": {"type": "string"},
        "players": {"type": "number"},
        "sessionNumber": {"type": "string"},
        "space": {"type": "string"},
        "updatedAt": {"type": "string", "format": "date-time"},
        "userId": {"type": "string"}
      },
      "required": ["date", "userId"]
    },
    "UserProfile": {
      "title": "UserProfile",
      "type": "object",
      "description": "Represents a user of the application.",
      "properties": {
        "createdAt": {"type": "string", "format": "date-time"},
        "displayName": {"type": "string"},
        "email": {"type": "string", "format": "email"},
        "favorites": {"type": "array", "items": {"type": "string"}},
        "photoURL": {"type": "string", "format": "uri"},
        "role": {"type": "string"},
        "subscription": {"type": "string"},
        "subscriptionEndDate": {"type": "string", "format": "date-time"},
        "subscriptionStartDate": {"type": "string", "format": "date-time"}
      },
      "required": ["email", "createdAt"]
    },
     "Team": {
      "title": "Team",
      "type": "object",
      "description": "Represents a futsal team.",
      "properties": {
        "club": {"type": "string"},
        "competition": {"type": "string"},
        "createdAt": {"type": "string", "format": "date-time"},
        "name": {"type": "string"},
        "ownerId": {"type": "string"},
        "season": {"type": "string"},
        "players": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "dorsal": {"type": "string"},
                    "nombre": {"type": "string"},
                    "posicion": {"type": "string"}
                },
                "required": ["dorsal", "nombre", "posicion"]
            }
        }
      },
      "required": ["name", "ownerId"]
    },
    "TeamInvitation": {
        "title": "Team Invitation",
        "type": "object",
        "description": "Represents an invitation for a user to join a team's staff.",
        "properties": {
            "createdAt": {"type": "string", "format": "date-time"},
            "invitedUserEmail": {"type": "string", "format": "email"},
            "name": {"type": "string"},
            "role": {"type": "string", "enum": ["technical_staff", "player"]},
            "status": {"type": "string", "enum": ["pending", "accepted", "rejected"]},
            "teamId": {"type": "string"},
            "teamName": {"type": "string"}
        },
        "required": ["teamId", "teamName", "invitedUserEmail", "status", "role"]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "/users/{userId}": {
      "schema": {
        "$ref": "#/entities/UserProfile"
      },
      "description": "Stores user profile information."
    },
    "/exercises/{exerciseId}": {
      "schema": {
        "$ref": "#/entities/Exercise"
      },
      "description": "Stores the public library of futsal exercises."
    },
    "/users/{userId}/favorites/{exerciseId}": {
        "schema": {
            "type": "object",
            "properties": {
                "favorited": {"type": "boolean"}
            }
        },
        "description": "Stores a user's favorite exercises. The document ID is the exercise ID."
    },
    "/users/{userId}/sessions/{sessionId}": {
        "schema": {
            "$ref": "#/entities/Session"
        },
        "description": "Stores training sessions created by a user."
    },
    "/teams/{teamId}": {
        "schema": { "$ref": "#/entities/Team" },
        "description": "Stores team information."
    },
    "/invitations/{invitationId}": {
        "schema": { "$ref": "#/entities/TeamInvitation" },
        "description": "Stores invitations for users to join teams."
    }
  }
}
